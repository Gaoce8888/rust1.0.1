<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API å‚è€ƒ - ä¼ä¸šçº§å®¢æœç³»ç»ŸæŠ€æœ¯æ–‡æ¡£</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/mobile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
</head>
<body>
    <div class="page-container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>æŠ€æœ¯æ–‡æ¡£</h1>
                <p>ä¼ä¸šçº§å®¢æœç³»ç»Ÿ v1.0.0</p>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <h3 class="nav-section-title">API å‚è€ƒ</h3>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#overview" class="nav-link active">API æ¦‚è§ˆ</a>
                        </li>
                        <li class="nav-item">
                            <a href="#auth" class="nav-link">è®¤è¯æ¥å£</a>
                        </li>
                        <li class="nav-item">
                            <a href="#system" class="nav-link">ç³»ç»Ÿæ¥å£</a>
                        </li>
                        <li class="nav-item">
                            <a href="#file" class="nav-link">æ–‡ä»¶ç®¡ç†</a>
                        </li>
                        <li class="nav-item">
                            <a href="#voice" class="nav-link">è¯­éŸ³æ¶ˆæ¯</a>
                        </li>
                        <li class="nav-item">
                            <a href="#template" class="nav-link">æ¨¡æ¿ç®¡ç†</a>
                        </li>
                        <li class="nav-item">
                            <a href="#ai" class="nav-link">AI å¤„ç†</a>
                        </li>
                        <li class="nav-item">
                            <a href="#websocket" class="nav-link">WebSocket</a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <h3 class="nav-section-title">å…¶ä»–æ–‡æ¡£</h3>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../index.html" class="nav-link">é¡¹ç›®æ¦‚è¿°</a>
                        </li>
                        <li class="nav-item">
                            <a href="architecture.html" class="nav-link">ç³»ç»Ÿæ¶æ„</a>
                        </li>
                        <li class="nav-item">
                            <a href="modules.html" class="nav-link">æ¨¡å—è¯¦è§£</a>
                        </li>
                        <li class="nav-item">
                            <a href="deployment.html" class="nav-link">éƒ¨ç½²æŒ‡å—</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <header class="header">
                <button class="menu-toggle">â˜°</button>
                <h1 class="header-title">API å‚è€ƒæ–‡æ¡£</h1>
                <div class="header-actions">
                    <a href="../index.html" class="btn btn-secondary">è¿”å›é¦–é¡µ</a>
                    <a href="http://localhost:8080/swagger-ui.html" class="btn btn-primary" target="_blank">åœ¨çº¿æ–‡æ¡£</a>
                </div>
            </header>

            <div class="content fade-in">
                <nav class="breadcrumb">
                    <a href="../index.html" class="breadcrumb-item">é¦–é¡µ</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-item active">API å‚è€ƒ</span>
                </nav>

                <div class="doc-content">
                    <h1 class="doc-title">API å‚è€ƒæ–‡æ¡£</h1>
                    <p class="doc-subtitle">å®Œæ•´çš„ REST API å’Œ WebSocket æ¥å£æ–‡æ¡£</p>

                    <div class="toc">
                        <h3 class="toc-title">æœ¬é¡µç›®å½•</h3>
                        <ul class="toc-list">
                            <li class="toc-item"><a href="#overview" class="toc-link">API æ¦‚è§ˆ</a></li>
                            <li class="toc-item"><a href="#auth" class="toc-link">è®¤è¯æ¥å£</a></li>
                            <li class="toc-item"><a href="#system" class="toc-link">ç³»ç»Ÿæ¥å£</a></li>
                            <li class="toc-item"><a href="#file" class="toc-link">æ–‡ä»¶ç®¡ç†</a></li>
                            <li class="toc-item"><a href="#voice" class="toc-link">è¯­éŸ³æ¶ˆæ¯</a></li>
                            <li class="toc-item"><a href="#template" class="toc-link">æ¨¡æ¿ç®¡ç†</a></li>
                            <li class="toc-item"><a href="#ai" class="toc-link">AI å¤„ç†</a></li>
                            <li class="toc-item"><a href="#websocket" class="toc-link">WebSocket</a></li>
                        </ul>
                    </div>

                    <section id="overview">
                        <h2>API æ¦‚è§ˆ</h2>
                        
                        <div class="alert alert-info">
                            <div class="alert-title">ğŸŒ åŸºç¡€ä¿¡æ¯</div>
                            <p>API åŸºç¡€URL: <code>http://localhost:8080</code></p>
                            <p>API ç‰ˆæœ¬: v1.0.0</p>
                            <p>æ”¯æŒæ ¼å¼: JSON</p>
                        </div>

                        <h3>é€šç”¨å“åº”æ ¼å¼</h3>
                        
                        <div class="card">
                            <h4 class="card-title">æˆåŠŸå“åº”</h4>
                            <div class="card-content">
                                <pre><code class="language-json">{
  "success": true,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    // å…·ä½“æ•°æ®å†…å®¹
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h4 class="card-title">é”™è¯¯å“åº”</h4>
                            <div class="card-content">
                                <pre><code class="language-json">{
  "success": false,
  "message": "é”™è¯¯ä¿¡æ¯",
  "code": 400,
  "details": {
    "error_type": "validation_error",
    "timestamp": "2024-01-01T00:00:00Z"
  }
}</code></pre>
                            </div>
                        </div>

                        <h3>HTTP çŠ¶æ€ç </h3>
                        
                        <table>
                            <thead>
                                <tr>
                                    <th>çŠ¶æ€ç </th>
                                    <th>è¯´æ˜</th>
                                    <th>æè¿°</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>200</code></td>
                                    <td>OK</td>
                                    <td>è¯·æ±‚æˆåŠŸ</td>
                                </tr>
                                <tr>
                                    <td><code>201</code></td>
                                    <td>Created</td>
                                    <td>èµ„æºåˆ›å»ºæˆåŠŸ</td>
                                </tr>
                                <tr>
                                    <td><code>400</code></td>
                                    <td>Bad Request</td>
                                    <td>è¯·æ±‚å‚æ•°é”™è¯¯</td>
                                </tr>
                                <tr>
                                    <td><code>401</code></td>
                                    <td>Unauthorized</td>
                                    <td>æœªè®¤è¯æˆ–è®¤è¯å¤±è´¥</td>
                                </tr>
                                <tr>
                                    <td><code>403</code></td>
                                    <td>Forbidden</td>
                                    <td>æƒé™ä¸è¶³</td>
                                </tr>
                                <tr>
                                    <td><code>404</code></td>
                                    <td>Not Found</td>
                                    <td>èµ„æºä¸å­˜åœ¨</td>
                                </tr>
                                <tr>
                                    <td><code>500</code></td>
                                    <td>Internal Server Error</td>
                                    <td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td>
                                </tr>
                            </tbody>
                        </table>

                        <h3>è®¤è¯æœºåˆ¶</h3>
                        
                        <div class="card">
                            <h4 class="card-title">ä¼šè¯è®¤è¯</h4>
                            <div class="card-content">
                                <p>ç³»ç»Ÿä½¿ç”¨åŸºäºä¼šè¯çš„è®¤è¯æœºåˆ¶ï¼Œè®¤è¯æµç¨‹å¦‚ä¸‹ï¼š</p>
                                <ol>
                                    <li>ç”¨æˆ·é€šè¿‡ <code>POST /auth/login</code> ç™»å½•</li>
                                    <li>æœåŠ¡å™¨è¿”å› <code>session_id</code></li>
                                    <li>åç»­è¯·æ±‚åœ¨ Header ä¸­æºå¸¦ <code>session_id</code></li>
                                    <li>æœåŠ¡å™¨éªŒè¯ä¼šè¯æœ‰æ•ˆæ€§</li>
                                </ol>
                                
                                <p><strong>Header æ ¼å¼ï¼š</strong></p>
                                <pre><code>Authorization: Bearer {session_id}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="auth">
                        <h2>è®¤è¯æ¥å£</h2>
                        
                        <div class="card">
                            <h3 class="card-title">ç”¨æˆ·ç™»å½•</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/auth/login</code></p>
                                <p><strong>æè¿°ï¼š</strong>ç”¨æˆ·ç™»å½•è®¤è¯</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <pre><code class="language-json">{
  "username": "admin",
  "password": "password123"
}</code></pre>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "ç™»å½•æˆåŠŸ",
  "session_id": "session_uuid",
  "user": {
    "id": "user_id",
    "username": "admin",
    "display_name": "ç®¡ç†å‘˜",
    "role": "admin",
    "permissions": ["read", "write", "admin"]
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">å¼ºåˆ¶ç™»å½•</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/auth/force-login</code></p>
                                <p><strong>æè¿°ï¼š</strong>å¼ºåˆ¶ç™»å½•ï¼Œæ–­å¼€å…¶ä»–ä¼šè¯</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <p>åŒç™»å½•æ¥å£</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <p>åŒç™»å½•æ¥å£</p>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">ç”¨æˆ·ç™»å‡º</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/auth/logout</code></p>
                                <p><strong>æè¿°ï¼š</strong>ç”¨æˆ·ç™»å‡º</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "ç™»å‡ºæˆåŠŸ"
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">ä¼šè¯éªŒè¯</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/auth/validate</code></p>
                                <p><strong>æè¿°ï¼š</strong>éªŒè¯ä¼šè¯æœ‰æ•ˆæ€§</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "ä¼šè¯æœ‰æ•ˆ",
  "data": {
    "session_id": "session_uuid",
    "user": {
      "id": "user_id",
      "username": "admin",
      "role": "admin"
    }
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">å¿ƒè·³æ£€æµ‹</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/auth/heartbeat</code></p>
                                <p><strong>æè¿°ï¼š</strong>ä¿æŒä¼šè¯æ´»è·ƒçŠ¶æ€</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "å¿ƒè·³æˆåŠŸ"
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="system">
                        <h2>ç³»ç»Ÿæ¥å£</h2>
                        
                        <div class="card">
                            <h3 class="card-title">è·å–ç³»ç»Ÿé…ç½®</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/config</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–ç³»ç»Ÿé…ç½®ä¿¡æ¯</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "websocket": {
    "url": "ws://localhost:8080/ws"
  },
  "api": {
    "url": "http://localhost:8080/api"
  },
  "upload": {
    "max_file_size": 10485760,
    "allowed_types": ["image/jpeg", "image/png", "application/pdf"],
    "categories": ["images", "documents", "audio", "videos"]
  },
  "html_templates": {
    "enabled": true,
    "max_variables": 50,
    "max_template_size": 1048576
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">è·å–åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/users</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "è·å–åœ¨çº¿ç”¨æˆ·åˆ—è¡¨æˆåŠŸ",
  "data": {
    "total_connections": 15,
    "kefu_connections": 5,
    "kehu_connections": 10
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">è·å–WebSocketç»Ÿè®¡</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/websocket/stats</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–WebSocketè¿æ¥ç»Ÿè®¡</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "è·å–WebSocketç»Ÿè®¡ä¿¡æ¯æˆåŠŸ",
  "data": {
    "total_connections": 15,
    "kefu_connections": 5,
    "kehu_connections": 10,
    "total_messages": 1250
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">å¥åº·æ£€æŸ¥</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/health</code></p>
                                <p><strong>æè¿°ï¼š</strong>ç³»ç»Ÿå¥åº·æ£€æŸ¥</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "status": "ok"
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="file">
                        <h2>æ–‡ä»¶ç®¡ç†</h2>
                        
                        <div class="card">
                            <h3 class="card-title">æ–‡ä»¶ä¸Šä¼ </h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/api/file/upload</code></p>
                                <p><strong>æè¿°ï¼š</strong>æ–‡ä»¶ä¸Šä¼ </p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                <p><strong>è¯·æ±‚ç±»å‹ï¼š</strong>multipart/form-data</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <ul>
                                    <li><code>file</code>: æ–‡ä»¶å†…å®¹</li>
                                    <li><code>category</code>: æ–‡ä»¶åˆ†ç±»ï¼ˆå¯é€‰ï¼‰</li>
                                    <li><code>description</code>: æ–‡ä»¶æè¿°ï¼ˆå¯é€‰ï¼‰</li>
                                </ul>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸ",
  "data": {
    "file_id": "file_uuid",
    "filename": "document.pdf",
    "size": 1024000,
    "upload_time": "2024-01-01T00:00:00Z",
    "access_url": "/api/file/download/file_uuid"
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">è·å–æ–‡ä»¶åˆ—è¡¨</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/file/list</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–æ–‡ä»¶åˆ—è¡¨</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>æŸ¥è¯¢å‚æ•°</h4>
                                <ul>
                                    <li><code>page</code>: é¡µç ï¼ˆé»˜è®¤1ï¼‰</li>
                                    <li><code>limit</code>: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰</li>
                                    <li><code>category</code>: æ–‡ä»¶åˆ†ç±»</li>
                                    <li><code>sort_by</code>: æ’åºå­—æ®µ</li>
                                    <li><code>sort_order</code>: æ’åºæ–¹å‘ï¼ˆasc/descï¼‰</li>
                                </ul>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "æ–‡ä»¶åˆ—è¡¨è·å–æˆåŠŸ",
  "data": {
    "files": [
      {
        "file_id": "file_uuid",
        "filename": "document.pdf",
        "size": 1024000,
        "category": "documents",
        "upload_time": "2024-01-01T00:00:00Z",
        "uploaded_by": "user_id"
      }
    ],
    "total": 50,
    "page": 1,
    "limit": 20
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">æ–‡ä»¶ä¸‹è½½</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/file/download/{file_id}</code></p>
                                <p><strong>æè¿°ï¼š</strong>æ–‡ä»¶ä¸‹è½½</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>å¦</p>
                                
                                <h4>è·¯å¾„å‚æ•°</h4>
                                <ul>
                                    <li><code>file_id</code>: æ–‡ä»¶ID</li>
                                </ul>
                                
                                <h4>å“åº”</h4>
                                <p>è¿”å›æ–‡ä»¶äºŒè¿›åˆ¶æµ</p>
                            </div>
                        </div>
                    </section>

                    <section id="voice">
                        <h2>è¯­éŸ³æ¶ˆæ¯</h2>
                        
                        <div class="card">
                            <h3 class="card-title">è¯­éŸ³ä¸Šä¼ </h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/api/voice/upload</code></p>
                                <p><strong>æè¿°ï¼š</strong>è¯­éŸ³æ¶ˆæ¯ä¸Šä¼ </p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                <p><strong>è¯·æ±‚ç±»å‹ï¼š</strong>multipart/form-data</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <ul>
                                    <li><code>voice</code>: è¯­éŸ³æ–‡ä»¶</li>
                                    <li><code>to</code>: æ¥æ”¶è€…IDï¼ˆå¯é€‰ï¼‰</li>
                                    <li><code>duration</code>: è¯­éŸ³æ—¶é•¿ï¼ˆå¯é€‰ï¼‰</li>
                                </ul>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "è¯­éŸ³ä¸Šä¼ æˆåŠŸ",
  "data": {
    "voice_id": "voice_uuid",
    "file_id": "file_uuid",
    "duration": 30.5,
    "format": "mp3",
    "file_size": 512000,
    "upload_time": "2024-01-01T00:00:00Z",
    "access_url": "/api/voice/download/voice_uuid"
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">è·å–è¯­éŸ³åˆ—è¡¨</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/voice/list</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–è¯­éŸ³æ¶ˆæ¯åˆ—è¡¨</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "è¯­éŸ³åˆ—è¡¨è·å–æˆåŠŸ",
  "data": {
    "voices": [
      {
        "voice_id": "voice_uuid",
        "from": "user_id",
        "to": "target_user_id",
        "duration": 30.5,
        "format": "mp3",
        "upload_time": "2024-01-01T00:00:00Z"
      }
    ]
  }
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="template">
                        <h2>æ¨¡æ¿ç®¡ç†</h2>
                        
                        <div class="card">
                            <h3 class="card-title">è·å–æ¨¡æ¿åˆ—è¡¨</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/api/template/list</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–HTMLæ¨¡æ¿åˆ—è¡¨</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "æ¨¡æ¿åˆ—è¡¨è·å–æˆåŠŸ",
  "data": {
    "templates": [
      {
        "template_id": "template_uuid",
        "name": "æ¬¢è¿æ¨¡æ¿",
        "description": "å®¢æˆ·æ¬¢è¿æ¶ˆæ¯æ¨¡æ¿",
        "category": "welcome",
        "created_at": "2024-01-01T00:00:00Z",
        "updated_at": "2024-01-01T00:00:00Z"
      }
    ]
  }
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">åˆ›å»ºæ¨¡æ¿</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/api/template/create</code></p>
                                <p><strong>æè¿°ï¼š</strong>åˆ›å»ºæ–°çš„HTMLæ¨¡æ¿</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <pre><code class="language-json">{
  "name": "æ–°æ¨¡æ¿",
  "description": "æ¨¡æ¿æè¿°",
  "category": "custom",
  "content": "&lt;h1&gt;{{title}}&lt;/h1&gt;&lt;p&gt;{{content}}&lt;/p&gt;",
  "variables": ["title", "content"]
}</code></pre>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "success": true,
  "message": "æ¨¡æ¿åˆ›å»ºæˆåŠŸ",
  "data": {
    "template_id": "template_uuid",
    "name": "æ–°æ¨¡æ¿",
    "created_at": "2024-01-01T00:00:00Z"
  }
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="ai">
                        <h2>AI å¤„ç†</h2>
                        
                        <div class="card">
                            <h3 class="card-title">æäº¤AIä»»åŠ¡</h3>
                            <div class="card-content">
                                <p><strong>POST</strong> <code>/ai/tasks</code></p>
                                <p><strong>æè¿°ï¼š</strong>æäº¤AIå¤„ç†ä»»åŠ¡</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <pre><code class="language-json">{
  "task_type": "intent_recognition",
  "user_id": "user_id",
  "message_id": "message_id",
  "input_data": {
    "text": "æˆ‘æƒ³æŸ¥è¯¢è®¢å•çŠ¶æ€"
  },
  "priority": 5
}</code></pre>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "task_id": "task_uuid",
  "status": "submitted",
  "message": "ä»»åŠ¡å·²æäº¤åˆ°AIå¤„ç†é˜Ÿåˆ—"
}</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">è·å–ä»»åŠ¡çŠ¶æ€</h3>
                            <div class="card-content">
                                <p><strong>GET</strong> <code>/ai/tasks/{task_id}</code></p>
                                <p><strong>æè¿°ï¼š</strong>è·å–AIä»»åŠ¡çŠ¶æ€</p>
                                <p><strong>éœ€è¦è®¤è¯ï¼š</strong>æ˜¯</p>
                                
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <pre><code class="language-json">{
  "task_id": "task_uuid",
  "status": "completed",
  "result": {
    "intent": "order_inquiry",
    "confidence": 0.95,
    "entities": ["è®¢å•", "çŠ¶æ€"]
  },
  "error": null
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="websocket">
                        <h2>WebSocket</h2>
                        
                        <div class="card">
                            <h3 class="card-title">WebSocketè¿æ¥</h3>
                            <div class="card-content">
                                <p><strong>WebSocket</strong> <code>ws://localhost:8080/ws</code></p>
                                <p><strong>æè¿°ï¼š</strong>å»ºç«‹WebSocketè¿æ¥</p>
                                <p><strong>åè®®ï¼š</strong>WebSocket</p>
                                <p><strong>æ¶ˆæ¯æ ¼å¼ï¼š</strong>JSON</p>
                                
                                <h4>è¿æ¥å‚æ•°</h4>
                                <ul>
                                    <li><code>user_id</code>: ç”¨æˆ·ID</li>
                                    <li><code>user_type</code>: ç”¨æˆ·ç±»å‹ï¼ˆkefu/kehuï¼‰</li>
                                    <li><code>token</code>: è®¤è¯ä»¤ç‰Œ</li>
                                </ul>
                                
                                <h4>è¿æ¥ç¤ºä¾‹</h4>
                                <pre><code class="language-javascript">const ws = new WebSocket('ws://localhost:8080/ws?user_id=123&user_type=kefu&token=abc123');</code></pre>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">æ¶ˆæ¯ç±»å‹</h3>
                            <div class="card-content">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>ç±»å‹</th>
                                            <th>è¯´æ˜</th>
                                            <th>æ–¹å‘</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><code>user_join</code></td>
                                            <td>ç”¨æˆ·åŠ å…¥</td>
                                            <td>å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨</td>
                                        </tr>
                                        <tr>
                                            <td><code>user_leave</code></td>
                                            <td>ç”¨æˆ·ç¦»å¼€</td>
                                            <td>å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨</td>
                                        </tr>
                                        <tr>
                                            <td><code>message</code></td>
                                            <td>æ–‡æœ¬æ¶ˆæ¯</td>
                                            <td>åŒå‘</td>
                                        </tr>
                                        <tr>
                                            <td><code>file</code></td>
                                            <td>æ–‡ä»¶æ¶ˆæ¯</td>
                                            <td>åŒå‘</td>
                                        </tr>
                                        <tr>
                                            <td><code>voice</code></td>
                                            <td>è¯­éŸ³æ¶ˆæ¯</td>
                                            <td>åŒå‘</td>
                                        </tr>
                                        <tr>
                                            <td><code>typing</code></td>
                                            <td>æ‰“å­—çŠ¶æ€</td>
                                            <td>åŒå‘</td>
                                        </tr>
                                        <tr>
                                            <td><code>heartbeat</code></td>
                                            <td>å¿ƒè·³åŒ…</td>
                                            <td>åŒå‘</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="card">
                            <h3 class="card-title">æ¶ˆæ¯ç¤ºä¾‹</h3>
                            <div class="card-content">
                                <h4>å‘é€æ–‡æœ¬æ¶ˆæ¯</h4>
                                <pre><code class="language-json">{
  "type": "message",
  "from": "user_id",
  "to": "target_user_id",
  "content": "Hello, world!",
  "timestamp": "2024-01-01T00:00:00Z"
}</code></pre>
                                
                                <h4>å‘é€æ–‡ä»¶æ¶ˆæ¯</h4>
                                <pre><code class="language-json">{
  "type": "file",
  "from": "user_id",
  "to": "target_user_id",
  "file_id": "file_uuid",
  "filename": "document.pdf",
  "file_size": 1024000,
  "timestamp": "2024-01-01T00:00:00Z"
}</code></pre>
                                
                                <h4>æ‰“å­—çŠ¶æ€</h4>
                                <pre><code class="language-json">{
  "type": "typing",
  "from": "user_id",
  "to": "target_user_id",
  "is_typing": true,
  "timestamp": "2024-01-01T00:00:00Z"
}</code></pre>
                            </div>
                        </div>
                    </section>
                </div>
            </div>

            <footer class="footer">
                <div class="footer-content">
                    <p>&copy; 2024 ä¼ä¸šçº§å®¢æœç³»ç»Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
                </div>
            </footer>
        </main>
    </div>

    <script src="../assets/js/main.js"></script>
<script src="../assets/js/mobile.js"></script>
</body>
</html>
