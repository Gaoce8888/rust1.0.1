<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¤è¯API - å®¢æœç³»ç»Ÿ</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/prism.css">
    <link rel="icon" href="../assets/images/favicon.ico" type="image/x-icon">
    <meta name="description" content="å®¢æœç³»ç»Ÿè®¤è¯APIæ–‡æ¡£ï¼ŒåŒ…å«ç™»å½•ã€ç™»å‡ºã€ä¼šè¯ç®¡ç†ç­‰æ¥å£">
</head>
<body>
    <!-- å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="../assets/images/logo.png" alt="å®¢æœç³»ç»Ÿ" class="logo-img">
                <span class="logo-text">å®¢æœç³»ç»Ÿ v1.3.0</span>
            </div>
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">é¦–é¡µ</a>
                <a href="index.html" class="nav-link active">APIæ–‡æ¡£</a>
                <a href="../user-guide/index.html" class="nav-link">ç”¨æˆ·æŒ‡å—</a>
                <a href="../technical/index.html" class="nav-link">æŠ€æœ¯æ–‡æ¡£</a>
                <a href="../deployment/index.html" class="nav-link">éƒ¨ç½²æŒ‡å—</a>
            </div>
            <div class="nav-search">
                <input type="text" id="searchInput" placeholder="æœç´¢API..." class="search-input">
                <button class="search-btn" onclick="searchDocs()">ğŸ”</button>
            </div>
            <div class="nav-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="main-content">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <section class="page-header">
            <div class="container">
                <div class="breadcrumb">
                    <a href="../index.html">é¦–é¡µ</a>
                    <span class="breadcrumb-separator">/</span>
                    <a href="index.html">APIæ–‡æ¡£</a>
                    <span class="breadcrumb-separator">/</span>
                    <span class="breadcrumb-current">è®¤è¯API</span>
                </div>
                <h1 class="page-title">è®¤è¯API</h1>
                <p class="page-subtitle">å®¢æœç³»ç»Ÿçš„è®¤è¯å’Œæˆæƒæ¥å£ï¼ŒåŒ…å«ç™»å½•ã€ç™»å‡ºã€ä¼šè¯ç®¡ç†ç­‰åŠŸèƒ½</p>
            </div>
        </section>

        <!-- APIæ¦‚è§ˆ -->
        <section class="api-overview">
            <div class="container">
                <h2 class="section-title">APIæ¦‚è§ˆ</h2>
                
                <div class="api-stats">
                    <div class="api-stat-card">
                        <div class="api-stat-icon">ğŸ”</div>
                        <div class="api-stat-number">4</div>
                        <div class="api-stat-label">è®¤è¯æ¥å£</div>
                    </div>
                    <div class="api-stat-card">
                        <div class="api-stat-icon">âš¡</div>
                        <div class="api-stat-number">&lt;100ms</div>
                        <div class="api-stat-label">å“åº”æ—¶é—´</div>
                    </div>
                    <div class="api-stat-card">
                        <div class="api-stat-icon">ğŸ”’</div>
                        <div class="api-stat-number">HTTPS</div>
                        <div class="api-stat-label">å®‰å…¨ä¼ è¾“</div>
                    </div>
                    <div class="api-stat-card">
                        <div class="api-stat-icon">ğŸ“</div>
                        <div class="api-stat-number">JSON</div>
                        <div class="api-stat-label">æ•°æ®æ ¼å¼</div>
                    </div>
                </div>

                <div class="api-base-info">
                    <div class="base-url-card">
                        <h3>åŸºç¡€URL</h3>
                        <code class="base-url">https://api.kefu-system.com/v1</code>
                        <p>æ‰€æœ‰APIè¯·æ±‚éƒ½åŸºäºæ­¤åŸºç¡€URL</p>
                    </div>
                    
                    <div class="auth-info-card">
                        <h3>è®¤è¯æ–¹å¼</h3>
                        <ul>
                            <li><strong>Session Token:</strong> é€šè¿‡Cookieä¼ é€’</li>
                            <li><strong>Authorization Header:</strong> Bearer Token</li>
                            <li><strong>API Key:</strong> ç”¨äºæœåŠ¡é—´é€šä¿¡</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- APIæ¥å£åˆ—è¡¨ -->
        <section class="api-endpoints">
            <div class="container">
                <h2 class="section-title">æ¥å£åˆ—è¡¨</h2>
                
                <!-- ç™»å½•æ¥å£ -->
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/auth/login</div>
                        <div class="endpoint-name">å®¢æœç™»å½•</div>
                    </div>
                    
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            <p>å®¢æœäººå‘˜ç™»å½•ç³»ç»Ÿï¼Œè·å–ä¼šè¯token</p>
                        </div>
                        
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>è¯·æ±‚å‚æ•°</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Request Body (JSON)</div>
                                    <pre><code class="language-json">{
  "username": "kefu001",
  "password": "123456",
  "captcha": "ABC123"
}</code></pre>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Success Response (200)</div>
                                    <pre><code class="language-json">{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": "kefu001",
      "name": "å¼ ä¸‰",
      "role": "kefu",
      "status": "online"
    },
    "expires_in": 3600
  }
}</code></pre>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h4>é”™è¯¯å“åº”</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Error Response (401)</div>
                                    <pre><code class="language-json">{
  "code": 401,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
  "data": null
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ç™»å‡ºæ¥å£ -->
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/auth/logout</div>
                        <div class="endpoint-name">å®¢æœç™»å‡º</div>
                    </div>
                    
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            <p>å®¢æœäººå‘˜ç™»å‡ºç³»ç»Ÿï¼Œæ¸…é™¤ä¼šè¯ä¿¡æ¯</p>
                        </div>
                        
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>è¯·æ±‚å¤´</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Headers</div>
                                    <pre><code class="language-http">Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json</code></pre>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Success Response (200)</div>
                                    <pre><code class="language-json">{
  "code": 200,
  "message": "ç™»å‡ºæˆåŠŸ",
  "data": null
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- éªŒè¯ä¼šè¯æ¥å£ -->
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <div class="endpoint-method get">GET</div>
                        <div class="endpoint-path">/auth/verify</div>
                        <div class="endpoint-name">éªŒè¯ä¼šè¯</div>
                    </div>
                    
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            <p>éªŒè¯å½“å‰ä¼šè¯æ˜¯å¦æœ‰æ•ˆï¼Œè·å–ç”¨æˆ·ä¿¡æ¯</p>
                        </div>
                        
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>è¯·æ±‚å¤´</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Headers</div>
                                    <pre><code class="language-http">Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Success Response (200)</div>
                                    <pre><code class="language-json">{
  "code": 200,
  "message": "ä¼šè¯æœ‰æ•ˆ",
  "data": {
    "user": {
      "id": "kefu001",
      "name": "å¼ ä¸‰",
      "role": "kefu",
      "status": "online",
      "last_active": "2025-07-21T10:30:00Z"
    },
    "permissions": [
      "message:read",
      "message:write",
      "customer:view"
    ]
  }
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åˆ·æ–°Tokenæ¥å£ -->
                <div class="api-endpoint">
                    <div class="endpoint-header">
                        <div class="endpoint-method post">POST</div>
                        <div class="endpoint-path">/auth/refresh</div>
                        <div class="endpoint-name">åˆ·æ–°Token</div>
                    </div>
                    
                    <div class="endpoint-content">
                        <div class="endpoint-description">
                            <p>åˆ·æ–°å³å°†è¿‡æœŸçš„è®¿é—®token</p>
                        </div>
                        
                        <div class="endpoint-details">
                            <div class="detail-section">
                                <h4>è¯·æ±‚å¤´</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Headers</div>
                                    <pre><code class="language-http">Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></pre>
                                </div>
                            </div>
                            
                            <div class="detail-section">
                                <h4>å“åº”ç¤ºä¾‹</h4>
                                <div class="code-block-container">
                                    <div class="code-block-header">Success Response (200)</div>
                                    <pre><code class="language-json">{
  "code": 200,
  "message": "Tokenåˆ·æ–°æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expires_in": 3600
  }
}</code></pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- é”™è¯¯ç  -->
        <section class="error-codes">
            <div class="container">
                <h2 class="section-title">é”™è¯¯ç </h2>
                
                <div class="error-table">
                    <table>
                        <thead>
                            <tr>
                                <th>é”™è¯¯ç </th>
                                <th>é”™è¯¯ä¿¡æ¯</th>
                                <th>è¯´æ˜</th>
                                <th>è§£å†³æ–¹æ¡ˆ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>400</code></td>
                                <td>è¯·æ±‚å‚æ•°é”™è¯¯</td>
                                <td>è¯·æ±‚å‚æ•°æ ¼å¼ä¸æ­£ç¡®æˆ–ç¼ºå°‘å¿…è¦å‚æ•°</td>
                                <td>æ£€æŸ¥è¯·æ±‚å‚æ•°æ ¼å¼å’Œå®Œæ•´æ€§</td>
                            </tr>
                            <tr>
                                <td><code>401</code></td>
                                <td>æœªæˆæƒ</td>
                                <td>ç”¨æˆ·æœªç™»å½•æˆ–tokenæ— æ•ˆ</td>
                                <td>é‡æ–°ç™»å½•è·å–æœ‰æ•ˆtoken</td>
                            </tr>
                            <tr>
                                <td><code>403</code></td>
                                <td>æƒé™ä¸è¶³</td>
                                <td>ç”¨æˆ·æ²¡æœ‰æ‰§è¡Œè¯¥æ“ä½œçš„æƒé™</td>
                                <td>è”ç³»ç®¡ç†å‘˜åˆ†é…ç›¸åº”æƒé™</td>
                            </tr>
                            <tr>
                                <td><code>404</code></td>
                                <td>èµ„æºä¸å­˜åœ¨</td>
                                <td>è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨</td>
                                <td>æ£€æŸ¥è¯·æ±‚çš„URLæ˜¯å¦æ­£ç¡®</td>
                            </tr>
                            <tr>
                                <td><code>429</code></td>
                                <td>è¯·æ±‚è¿‡äºé¢‘ç¹</td>
                                <td>è¶…è¿‡äº†APIè°ƒç”¨é¢‘ç‡é™åˆ¶</td>
                                <td>é™ä½è¯·æ±‚é¢‘ç‡æˆ–è”ç³»ç®¡ç†å‘˜</td>
                            </tr>
                            <tr>
                                <td><code>500</code></td>
                                <td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td>
                                <td>æœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯</td>
                                <td>ç¨åé‡è¯•æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ä½¿ç”¨ç¤ºä¾‹ -->
        <section class="usage-examples">
            <div class="container">
                <h2 class="section-title">ä½¿ç”¨ç¤ºä¾‹</h2>
                
                <div class="example-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" onclick="switchTab('curl')">cURL</button>
                        <button class="tab-btn" onclick="switchTab('javascript')">JavaScript</button>
                        <button class="tab-btn" onclick="switchTab('python')">Python</button>
                        <button class="tab-btn" onclick="switchTab('rust')">Rust</button>
                    </div>
                    
                    <div class="tab-content">
                        <div id="curl" class="tab-pane active">
                            <h3>cURL ç¤ºä¾‹</h3>
                            <div class="code-block-container">
                                <div class="code-block-header">ç™»å½•è¯·æ±‚</div>
                                <pre><code class="language-bash">curl -X POST https://api.kefu-system.com/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "kefu001",
    "password": "123456"
  }'</code></pre>
                            </div>
                        </div>
                        
                        <div id="javascript" class="tab-pane">
                            <h3>JavaScript ç¤ºä¾‹</h3>
                            <div class="code-block-container">
                                <div class="code-block-header">ç™»å½•è¯·æ±‚</div>
                                <pre><code class="language-javascript">const response = await fetch('https://api.kefu-system.com/v1/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    username: 'kefu001',
    password: '123456'
  })
});

const data = await response.json();
console.log(data);</code></pre>
                            </div>
                        </div>
                        
                        <div id="python" class="tab-pane">
                            <h3>Python ç¤ºä¾‹</h3>
                            <div class="code-block-container">
                                <div class="code-block-header">ç™»å½•è¯·æ±‚</div>
                                <pre><code class="language-python">import requests

response = requests.post(
    'https://api.kefu-system.com/v1/auth/login',
    json={
        'username': 'kefu001',
        'password': '123456'
    }
)

data = response.json()
print(data)</code></pre>
                            </div>
                        </div>
                        
                        <div id="rust" class="tab-pane">
                            <h3>Rust ç¤ºä¾‹</h3>
                            <div class="code-block-container">
                                <div class="code-block-header">ç™»å½•è¯·æ±‚</div>
                                <pre><code class="language-rust">use reqwest;
use serde_json::json;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let client = reqwest::Client::new();
    
    let response = client
        .post("https://api.kefu-system.com/v1/auth/login")
        .json(&json!({
            "username": "kefu001",
            "password": "123456"
        }))
        .send()
        .await?;
    
    let data: serde_json::Value = response.json().await?;
    println!("{:?}", data);
    
    Ok(())
}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- é¡µè„š -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>å®¢æœç³»ç»Ÿ</h4>
                    <p>ä¼ä¸šçº§å®æ—¶å®¢æœè§£å†³æ–¹æ¡ˆ</p>
                </div>
                <div class="footer-section">
                    <h4>æ–‡æ¡£</h4>
                    <ul>
                        <li><a href="index.html">APIæ–‡æ¡£</a></li>
                        <li><a href="../user-guide/index.html">ç”¨æˆ·æŒ‡å—</a></li>
                        <li><a href="../technical/index.html">æŠ€æœ¯æ–‡æ¡£</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>æ”¯æŒ</h4>
                    <ul>
                        <li><a href="../technical/troubleshooting.html">æ•…éšœæ’é™¤</a></li>
                        <li><a href="../technical/faq.html">å¸¸è§é—®é¢˜</a></li>
                        <li><a href="https://github.com/Gaoce8888/rust1.0.1">GitHub</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>ç‰ˆæœ¬</h4>
                    <p>å½“å‰ç‰ˆæœ¬: v1.3.0</p>
                    <p>æœ€åæ›´æ–°: 2025-07-21</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 å®¢æœç³»ç»Ÿ. ä¿ç•™æ‰€æœ‰æƒåˆ©.</p>
            </div>
        </div>
    </footer>

    <!-- è¿”å›é¡¶éƒ¨æŒ‰é’® -->
    <button id="backToTop" class="back-to-top" onclick="scrollToTop()">â†‘</button>

    <!-- JavaScript -->
    <script src="../assets/js/main.js"></script>
    <script src="../assets/js/prism.js"></script>
    
    <!-- æ ‡ç­¾é¡µåˆ‡æ¢è„šæœ¬ -->
    <script>
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾æŒ‰é’®çš„activeçŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName).classList.add('active');
            
            // æ¿€æ´»å¯¹åº”çš„æŒ‰é’®
            event.target.classList.add('active');
        }
    </script>
</body>
</html>